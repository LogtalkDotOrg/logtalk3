<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>if/1 &mdash; The Logtalk Handbook v3.59.0-b01 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <!-- begin favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5" />
    <meta name="msapplication-TileColor" content="#355b95" />
    <meta name="theme-color" content="#ffffff" />
    <!-- end favicon -->
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="elif/1" href="elif_1.html" />
    <link rel="prev" title="Conditional compilation directives" href="conditional_compilation_directives.html" />
   
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> The Logtalk Handbook
            <img src="../../_static/logtalk.gif" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.59.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
    
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../userman/index.html">User Manual</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Reference Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../grammar.html">Grammar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../control/index.html">Control constructs</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Directives</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="source_file_directives.html">Source file directives</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="conditional_compilation_directives.html">Conditional compilation directives</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">if/1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="elif_1.html"><code class="docutils literal notranslate"><span class="pre">elif/1</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="else_0.html"><code class="docutils literal notranslate"><span class="pre">else/0</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="endif_0.html"><code class="docutils literal notranslate"><span class="pre">endif/0</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="entity_directives.html">Entity directives</a></li>
<li class="toctree-l3"><a class="reference internal" href="predicate_directives.html">Predicate directives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../predicates/index.html">Built-in predicates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../methods/index.html">Built-in methods</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devtools/index.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries/index.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ports/index.html">Ports</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributions/index.html">Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bibliography.html">Bibliography</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">Index</a></li>
</ul>

    <p class="caption"><span class="caption-text">External Contents</span></p>
    <ul>
    <li class="toctree-l1"><a class="reference internal" href="../../../docs/index.html">APIs</a></li>
    <li class="toctree-l1"><a class="reference internal" href="https://logtalk.org">Logtalk website</a></li>
    <li class="toctree-l1"><a class="reference internal" href="https://github.com/LogtalkDotOrg/logtalk3">GitHub repo</a></li>
    </ul>
  
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Logtalk Handbook</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Reference Manual</a> &raquo;</li>
          <li><a href="index.html">Directives</a> &raquo;</li>
          <li><a href="conditional_compilation_directives.html">Conditional compilation directives</a> &raquo;</li>
      <li><code class="docutils literal notranslate"><span class="pre">if/1</span></code></li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/LogtalkDotOrg/logtalk3/blob/master/manuals/sources/refman/directives/if_1.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p class="align-right"><strong>directive</strong></p>
<section id="if-1">
<span id="directives-if-1"></span><span id="index-0"></span><h1><code class="docutils literal notranslate"><span class="pre">if/1</span></code><a class="headerlink" href="#if-1" title="Permalink to this heading"></a></h1>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading"></a></h2>
<div class="highlight-logtalk notranslate"><div class="highlight"><pre><span></span>if(<span class="nv">Goal</span>)
</pre></div>
</div>
<p>Starts conditional compilation. The code following the directive is compiled
iff <code class="docutils literal notranslate"><span class="pre">Goal</span></code> is true. If <code class="docutils literal notranslate"><span class="pre">Goal</span></code> throws an error instead of either succeeding
or failing, the error is reported by the compiler and compilation of the
enclosing source file or entity is aborted. The goal is subjected to
<a class="reference internal" href="../../userman/expansion.html#expansion-expansion"><span class="std std-ref">goal expansion</span></a> when the directive occurs in a
source file. Conditional compilation directives can be nested.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Conditional compilation goals <strong>cannot</strong> depend on predicate definitions
contained in the same source file that contains the conditional
compilation directives (as those predicates only become available after
the file is successfully compiled and loaded).</p>
</div>
</section>
<section id="template-and-modes">
<h2>Template and modes<a class="headerlink" href="#template-and-modes" title="Permalink to this heading"></a></h2>
<div class="highlight-logtalk notranslate"><div class="highlight"><pre><span></span>if(<span class="o">@</span>callable)
</pre></div>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<p>A common example is checking if a built-in predicate exists and
providing a definition when the predicate is absent:</p>
<div class="highlight-logtalk notranslate"><div class="highlight"><pre><span></span><span class="p">:- </span><span class="k">if</span>(<span class="o">\+</span> <span class="k">predicate_property</span>(length(<span class="nv">_</span>,<span class="nv">_</span>), built_in)).

    length(<span class="nv">List</span>, <span class="nv">Length</span>) <span class="o">:-</span>
        ...

<span class="p">:- </span><span class="k">endif</span>.
</pre></div>
</div>
<p>Another common example is conditionally including code for a specific
backend Prolog compiler:</p>
<div class="highlight-logtalk notranslate"><div class="highlight"><pre><span></span><span class="p">:- </span><span class="k">if</span>(<span class="k">current_logtalk_flag</span>(prolog_dialect, swi)).

    <span class="c">% SWI-Prolog specific code</span>
<span class="p">    :- </span><span class="k">set_prolog_flag</span>(double_quotes, codes).

<span class="p">:- </span><span class="k">endif</span>.
</pre></div>
</div>
<p>If necessary, test goal errors can be converted into failures using the
standard <code class="docutils literal notranslate"><span class="pre">catch/3</span></code> control construct. For example:</p>
<div class="highlight-logtalk notranslate"><div class="highlight"><pre><span></span><span class="p">:- </span><span class="k">if</span>(<span class="k">catch</span>(<span class="o">\+</span> <span class="k">log</span>(<span class="m">7</span>,<span class="nv">_</span>), <span class="nv">_</span>, <span class="k">fail</span>)).

   <span class="c">% define the legacy log/2 predicate</span>
   <span class="k">log</span>(<span class="nv">X</span>, <span class="nv">Y</span>) <span class="o">:-</span> <span class="nv">Y</span> <span class="k">is</span> <span class="k">log</span>(<span class="nv">X</span>).

<span class="p">:- </span><span class="k">endif</span>.
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="elif_1.html#directives-elif-1"><span class="std std-ref">elif/1</span></a>,
<a class="reference internal" href="else_0.html#directives-else-0"><span class="std std-ref">else/0</span></a>,
<a class="reference internal" href="endif_0.html#directives-endif-0"><span class="std std-ref">endif/0</span></a></p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="conditional_compilation_directives.html" class="btn btn-neutral float-left" title="Conditional compilation directives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="elif_1.html" class="btn btn-neutral float-right" title="elif/1" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 1998-2022, Paulo Moura.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>