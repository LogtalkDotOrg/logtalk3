<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<!--
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  
%  This file is part of Logtalk <http://logtalk.org/>    
%  Copyright (c) 1998-2014 Paulo Moura <pmoura@logtalk.org>
%  
%  Logtalk is free software. You can redistribute it and/or modify it under
%  the terms of the FSF GNU General Public License 3  (plus some additional
%  terms per section 7).        Consult the `LICENSE.txt` file for details.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
	<meta http-equiv="content-type" content="application/xml+xhtml; charset=utf-8" />
	<title>Logtalk built-in method: goal_expansion/2</title>
	<link rel="stylesheet" href="../../screen.css" type="text/css" media="screen"/>
	<link rel="stylesheet" href="../../print.css" type="text/css" media="print"/>
</head>

<body>

<div class="top-left">Logtalk reference manual</div>
<div class="top-right">Built-in method: goal_expansion/2</div>
<div class="bottom-left"><span class="page"/></div>
<div class="bottom-right"><span class="page"/></div>
<div class="navtop"><a href="../../index.html">Contents</a> &gt; <a href="../index.html">Reference Manual</a> &gt; <a href="../index.html#methods">Built-in Methods</a> &gt; goal_expansion/2</div>

<h2 id="methods_goal_expansion_2" class="codenp">goal_expansion/2</h2>

<h4>Description</h4>

<pre>goal_expansion(Goal, ExpandedGoal)</pre>
<p>
Defines an expansion for a goal. The first argument is the goal to be expanded. The expanded goal is returned in the second argument. This predicate is called recursively on the expanded goal until there are no changes. Thus, care must be taken to avoid compilation loops. This predicate, when defined, is automatically called by the <a href="expand_goal_2.html"><code>expand_goal/2</code></a> method. Use of this predicate by the <code>expand_goal/2</code> method may be restricted by using a scope directive for it.
</p>
<p>
Goal expansion may be also be applied when compiling source files by defining the object providing access to the <code>goal_expansion/2</code> clauses as a <em><a class="glossary" title="Go to glossary definition" href="../../glossary.html#hook">hook object</a></em>. Clauses for the <code>goal_expansion/2</code> predicate defined within an object or a category are <strong>never</strong> used in the compilation of the object or the category itself. Moreover, goals wrapped using the <a title="Consult reference manual" href="../control/external_call_1.html"><code>{}/1</code></a> compiler bypass control construct are not expanded and any expanded goal wrapped in this control construct will not be further expanded.
</p>
<p>
Objects and categories implementing this predicate should declare that they implement the <code>expanding</code> protocol.
</p>

<h4>Template and modes</h4>

<pre>goal_expansion(+callable, -callable)</pre>

<h4>Errors</h4>

<dl>
	<dt><code>(none)</code></dt>
</dl>

<h4>Examples</h4>

<dl>
	<dt><code>goal_expansion(write(Term), (write_term(Term, []), nl)).</code></dt>
	<dt><code>goal_expansion(read(Term), (write('Input: '), {read(Term)})).</code></dt>
</dl>

<div class="footer">
	<div class="copyright">
		<span>Copyright &copy; <a href="mailto:pmoura@logtalk.org">Paulo Moura</a> &mdash; <a href="http://logtalk.org">Logtalk.org</a></span><br/>
		<span>Last updated on: May 9, 2014</span>
	</div>
	<div class="navbottom">
		<span><a href="expand_goal_2.html">previous</a> | <a href="../../glossary.html">glossary</a> | <a href="../index.html#methods">next</a></span><br/>
		<span><a href="http://validator.w3.org/check/referer">XHTML</a> + <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a></span>
	</div>
</div>

</body>

</html>
